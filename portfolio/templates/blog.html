{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Blogs</title>
    <link rel="stylesheet" href="{% static 'css/portfolio.css' %}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/framer-motion/10.18.0/framer-motion.js"></script>
</head>
<body>
    <div class="container">
        <button id="dark-mode-toggle" class="toggle-btn retro-btn">☀️</button>
        <a href="{% url 'home' %}" class="retro-btn back-btn">Back to Portfolio</a>

        <section class="section blog-section">
            <h1 class="retro-title">My Blogs</h1>
            <div class="blog-posts" id="blog-posts">
                
                {% for post in featured_posts %}
                <div class="blog-post" id="post-{{ post.id }}">
                    <h2><a href="{% url 'blog_detail' post.slug %}">{{ post.title }}</a></h2>
                    
                    {% if post.featured_image %}
                    <img src="{{ post.featured_image.url }}" alt="{{ post.title }}">
                    {% endif %}
                    
                    <div class="blog-content">
                        {{ post.content|safe }}
                    </div>
                    
                    {% if post.jupyter_link %}
                    <p>Check out my Jupyter notebook: <a href="{{ post.jupyter_link }}" target="_blank">Link</a></p>
                    {% endif %}
                    
                    {% if post.external_link %}
                    <p>External resource: <a href="{{ post.external_link }}" target="_blank">{{ post.external_link_text }}</a></p>
                    {% endif %}
                </div>
                {% endfor %}
                
                {% for post in other_posts %}
                <div class="blog-post hidden" id="post-{{ post.id }}">
                    <h2><a href="{% url 'blog_detail' post.slug %}">{{ post.title }}</a></h2>
                    
                    {% if post.featured_image %}
                    <img src="{{ post.featured_image.url }}" alt="{{ post.title }}">
                    {% endif %}
                    
                    <div class="blog-content">
                        {{ post.content|safe }}
                    </div>
                    
                    {% if post.jupyter_link %}
                    <p>Check out my Jupyter notebook: <a href="{{ post.jupyter_link }}" target="_blank">Link</a></p>
                    {% endif %}
                    
                    {% if post.external_link %}
                    <p>External resource: <a href="{{ post.external_link }}" target="_blank">{{ post.external_link_text }}</a></p>
                    {% endif %}
                </div>
                {% endfor %}
                
            </div>
            
            {% if other_posts %}
            <button id="see-more-blogs" class="retro-btn">See More</button>
            {% endif %}
        </section>
    </div>

    <script src="{% static 'js/blog.js' %}"></script>
</body>
</html>